(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a.p+"static/media/compass.fd75e46c.svg"},21:function(e,t,a){e.exports=a.p+"static/media/ship.35f2f9f9.svg"},22:function(e,t,a){e.exports=a(47)},28:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(19),r=a.n(o),s=(a(28),a(2)),i=a(4),c=a(5),u=a(7),m=a(6),d=a(8),h=a(9),f=a.n(h),p=function(e){return l.a.createElement("div",{className:"instructionWrapper"},l.a.createElement("div",{className:"modalWrapper",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",display:e.show?"inline-block":"none"}},l.a.createElement("div",{className:"modalBody"},l.a.createElement("div",null,e.children)),l.a.createElement("div",{className:"buttonContainer"},l.a.createElement("button",{className:"btnCancel",onClick:e.close},"Sails Away"))))},w=function(e){return l.a.createElement("div",{className:"haikuModal"},l.a.createElement("div",{className:"haikuBody",style:{transform:e.show?"translateY(0vh)":"translateY(-100vh)",display:e.show?"block":"none"}},l.a.createElement("div",{className:"haikuHeader"},l.a.createElement("h3",null,"Haiku"),l.a.createElement("span",{className:"closeHaikuBtn",onClick:e.cancel},"\xd7")),l.a.createElement("div",{className:"haikuContent"},l.a.createElement("div",null,e.children),l.a.createElement("div",{className:"haikuFooter"},l.a.createElement("button",{className:"btnContinue",onClick:e.refresh},"Start Over")))))},b=a(3),v=a.n(b),y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Instructions"},l.a.createElement("h1",null,"Haikus Ahoy!"),l.a.createElement("p",null,l.a.createElement("span",null,"Ahoy Matey!")," Welcome aboard our boat-themed haiku generator of the High Seas. ",l.a.createElement("span",null,"Argh!")),l.a.createElement("p",null,"A haiku is ",l.a.createElement("span",null,"a Japanese poem meant to evoke an image. It is "),"composed of three lines which have a syllable count of 5-7-5. Type a starting word below and a list of words will generate for you to choose from until the poem is done. If you don't like how your poem is going, you can delete the most recent word you added and you'll get a fresh list of options."))}}]),t}(n.Component),E=a(20),k=a.n(E),g=a(21),S=a.n(g),O=(a(46),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).scrollToElement=function(){window.scrollTo(0,e.containerRef.current.offsetTop)},e.closeModalHandler=function(){e.setState({isShowing:!1})},e.openPoem=function(){e.setState({showPoem:!0})},e.closePoem=function(){e.setState({showPoem:!1})},e.refreshPage=function(){window.location.reload()},e.getUserWord=function(){var t=e.state.seedWord.toLowerCase();f()({url:"https://api.datamuse.com/words?md=s&sp=".concat(t),method:"GET",dataResponse:"jsonp"}).then(function(a){var n=(a=a.data)[0].word,l=a[0].numSyllables;if(!(t===n&&l<6))return t===n&&l>5?void v.a.fire({type:"error",text:"Please enter a word that is less than 5 syllables"}):void v.a.fire({type:"error",text:'It looks like you meant to type "'.concat(n,'". Please try again.')});var o=Object(s.a)(e.state.wholeHaiku);o.push({word:n,numSyllables:l}),e.getWordSuggestions(n),e.setState({wholeHaiku:o,seedWord:""},e.distributeSyllables)}).catch(function(e){void 0===t||""===t||" "===t?v.a.fire({type:"error",text:"Please type in a word to get started."}):v.a.fire({type:"error",text:"Sorry, ".concat(t," is not a word that I know. If it looks like a word it is also possible that the data manager is not working in which case, please check back later!")})})},e.getWordSuggestions=function(t){f()({url:"https://api.datamuse.com/words?lc=".concat(t,"&md=s"),method:"GET",dataResponse:"jsonp"}).then(function(t){for(var a=e.state.syllableFilter,n=/1|2|3|4|5|6|7|8|9|0/,l=t.data.filter(function(e){return!n.test(e.word)&&"."!==e.word&&e.numSyllables<=a}),o=[],r=0;r<7;r++)o.push(l[r]);var s=o.filter(function(e){return void 0!==e});e.grabThree();var i=s.concat(e.state.currentThreeBoatWords);e.setState({wordOptions:i})}).catch(function(){v.a.fire({type:"error",text:"We're sorry, we're having some issues with our data manager. Please check back later!"})})},e.getShipWords=function(){f()({url:"https://api.datamuse.com/words?topics=boat&md=s&max=1000",method:"GET",dataResponse:"jsonp"}).then(function(t){var a=t.data.filter(function(e){return e.numSyllables<4});e.setState({allBoatWords:a},function(){e.grabThree()})})},e.grabThree=function(){for(var t=Object(s.a)(e.state.allBoatWords),a=e.state.syllableFilter,n=t.filter(function(e){return e.numSyllables<=a}),l=[],o=0;o<3&&!(n.length<1);o++){var r=n.length,i=Math.floor(Math.random()*r);l.push(n.splice(i,1)[0])}return e.setState({currentThreeBoatWords:l}),l},e.handleSubmit=function(t){t.preventDefault(),e.getUserWord(),setTimeout(function(){e.scrollToElement()},100)},e.handleChange=function(t){e.setState({seedWord:t.target.value})},e.buttonWordChoice=function(t,a){t.preventDefault();var n=Object(s.a)(e.state.wholeHaiku),l=e.state.wordOptions[a];n.push(l),e.setState({wholeHaiku:n,seedWord:""},function(){e.getWordSuggestions(l.word),e.distributeSyllables()})},e.countSyllables=function(e){return e.reduce(function(e,t){return e+t.numSyllables},0)},e.distributeSyllables=function(){var t=Object(s.a)(e.state.wholeHaiku),a=[],n=[],l=[],o=4;t.forEach(function(r,s){var i=t.slice(0,s+1),c=e.countSyllables(i);c<6?(a.push(t[s]),o=5-e.countSyllables(a)):c<13?(n.push(t[s]),o=7-e.countSyllables(n)):c<18&&(l.push(t[s]),o=5-e.countSyllables(l)),o<1&&(o=4)}),e.setState({lineOne:a,lineTwo:n,lineThree:l,syllableFilter:o})},e.removeLastWord=function(){var t=Object(s.a)(e.state.wholeHaiku);t.pop(),e.setState({wholeHaiku:t},function(){if(e.distributeSyllables(),0===t.length)return e.setState({wordOptions:[]}),null;var a=t[t.length-1].word;e.getWordSuggestions(a)})},e.syllableDisplay=function(t){var a=0===e.countSyllables(e.state.lineOne),n=5===e.countSyllables(e.state.lineOne),o=7===e.countSyllables(e.state.lineTwo),r=5===e.countSyllables(e.state.lineThree);if(n&&o&&r)return[];if(n&&o&&!r){if(t===e.state.lineThree){var s=5-e.countSyllables(t);return l.a.createElement("div",null,l.a.createElement("p",null,"You are on Line Three. "+s+" syllables remain"))}return[]}if(n&&!o){if(t===e.state.lineTwo){var i=7-e.countSyllables(t);return l.a.createElement("div",null,l.a.createElement("p",null,"You are on Line Two. "+i+" syllables remain"))}return[]}if(!0===a)return[];if(!n){if(t===e.state.lineOne){var c=5-e.countSyllables(t);return l.a.createElement("div",null,l.a.createElement("p",null,"You are on Line One. "+c+" syllables remain"))}return[]}},e.convertHaikuToString=function(){return[Object(s.a)(e.state.lineOne).map(function(e){return e.word}),Object(s.a)(e.state.lineTwo).map(function(e){return e.word}),Object(s.a)(e.state.lineThree).map(function(e){return e.word})].reduce(function(e,t){var a=t.join(" ");return null===e?a:e+"\n"+a},null)},e.renderHaiku=function(){return[Object(s.a)(e.state.lineOne.map(function(e){return e.word})).join(" "),l.a.createElement("br",null),Object(s.a)(e.state.lineTwo.map(function(e){return e.word})).join(" "),l.a.createElement("br",null),Object(s.a)(e.state.lineThree.map(function(e){return e.word})).join(" ")]},e.state={lineOne:[],lineTwo:[],lineThree:[],wholeHaiku:[],getUserWord:[],seedWord:"",allBoatWords:[],wordOptions:[],currentMatches:[],currentThreeBoatWords:[],syllableFilter:4,isShowing:!1,showFinishedHaiku:!1,showPoem:!1},e.containerRef=l.a.createRef(),e}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.getShipWords(),this.setState({isShowing:!0})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"Modal"},l.a.createElement(p,{className:"modal",show:this.state.isShowing,close:this.closeModalHandler},l.a.createElement(y,null))),l.a.createElement("header",null,l.a.createElement("img",{src:k.a,alt:"a compass",className:"compass"}),l.a.createElement("div",{className:"Form",id:"formContainer"},l.a.createElement("form",{action:"submit",onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"word",className:"visuallyHidden"},"Input Starting Word Here"),l.a.createElement("input",{className:"Input",onChange:this.handleChange,placeholder:"Enter Your Starting Word",value:this.state.seedWord,id:"word",name:"word",type:"text",disabled:this.state.wholeHaiku.length>0}),l.a.createElement("button",{disabled:this.state.wholeHaiku.length>0,className:"Submit"},"Submit"))),l.a.createElement("img",{src:S.a,alt:"a ship",className:"ship"})),l.a.createElement("div",{className:"ContainerHaiku",id:"ContainerHaiku",ref:this.containerRef},this.state.wholeHaiku.length>0&&l.a.createElement("div",null,l.a.createElement("div",{className:"Haiku",id:"dynamicHaiku"},this.state.wholeHaiku.length>0?l.a.createElement("h2",{onSubmit:this.removeLastWord},"Haiku"):null,l.a.createElement("div",{className:"flexParent"},l.a.createElement("div",{className:"lines"},l.a.createElement("ul",{className:"haikuUl"},this.state.lineOne.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("h4",null,e.word))})),this.syllableDisplay(this.state.lineOne)),l.a.createElement("div",{className:"lines"},l.a.createElement("ul",{className:"haikuUl"},this.state.lineTwo.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("h4",null,e.word))})),this.syllableDisplay(this.state.lineTwo)),l.a.createElement("div",{className:"lines"},l.a.createElement("ul",{className:"haikuUl"},this.state.lineThree.map(function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("h4",null,e.word))})),this.syllableDisplay(this.state.lineThree)),l.a.createElement("div",null,this.countSyllables(this.state.wholeHaiku)>=17?l.a.createElement("button",{className:"seePoem",onClick:this.openPoem},"Click to see whole poem"):null,l.a.createElement(w,{className:"poem",show:this.state.showPoem,cancel:this.closePoem,refresh:this.refreshPage},l.a.createElement("p",null,this.renderHaiku()))))),l.a.createElement("div",{className:"nextWordOption"},l.a.createElement("ul",{className:"suggestedWords"},this.state.wordOptions.map(function(t,a){return l.a.createElement("li",{key:a},l.a.createElement("button",{disabled:e.countSyllables(e.state.wholeHaiku)>=17,onClick:function(t){e.buttonWordChoice(t,a)},className:"wordButton"},t.word))})),this.state.wholeHaiku.length>0?l.a.createElement("button",{id:"removeLastItem",className:"removeLastItem",disabled:this.state.showFinishedHaiku,onClick:this.removeLastWord},"Remove Last Word"):null))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.691cd784.chunk.js.map